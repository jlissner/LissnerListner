"use strict";void function(t){function o(t){t.stopPropagation()}function e(t,o,e,r,n,a){if(n&&a){var s=o?n-a:n+a;r.css("top",s+"px")}var i=r.detach();o?e.before(i):e.after(i)}function r(t,o,e){var r=o?t.next(e):t.prev(e);if(r.length){var n=t.position().top,a=r.position().top,s=r.outerHeight(),i=o?n>a:n<a;i&&t.trigger("moveItem",[o,t,r,a,s])}}function n(t){t.stopPropagation();var o=t.clientY,e=t.data.itemToSort,n=o-t.data.mouseStartTop,a=t.data.itemStartTop+n,s=parseInt(e.css("top"),10),i=a-s>0;e.css("top",a+"px"),r(t.data.itemToSort,i,t.data.sortItemQuery)}function a(o){o.stopPropagation();var e=t(o.currentTarget),r=o.data.wrapper,a=o.data.items,s=o.data.sortItemQuery;a.each(function(o,e){var n=t(e);n.css("top",n.position().top+"px"),n.css("left",n.position().left+"px"),n.css("right",r.outerWidth()-(n.outerWidth()+n.position().left)+"px")}),r.height(r.height()),r.addClass("sorting"),e.addClass("sorting"),t(document).on("mousemove",{itemToSort:e,itemStartTop:parseInt(e.css("top"),10),mouseStartTop:o.clientY,sortItemQuery:s},n)}function s(o){o.stopPropagation();var e=t(".sorting");e.length&&(o.data.wrapper.height(""),e.removeClass("sorting"),t(document).off("mousemove",n))}function i(o){o.stopPropagation();var e=t(o.currentTarget).closest(o.data.sortItemQuery),r=e.prev(o.data.sortItemQuery);r.length&&e.trigger("moveItem",[!1,e,r])}function u(o){o.stopPropagation();var e=t(o.currentTarget).closest(o.data.sortItemQuery),r=e.next(o.data.sortItemQuery);r.length&&e.trigger("moveItem",[!0,e,r])}function p(r,n){var p=t(r).attr("data-function","sort"),c=n||'[data-sort="item"]',d=p.find("> "+c).attr("data-sort","item");if(!(d.length<2)){var m=duck.findRelevantChildren(d,"[data-sort-buttons]"),f=m.find('[data-sort="up"]'),g=m.find('[data-sort="down"]');p.prop("sortInitaited")&&(f.off("mousedown",o),f.off("click",i),g.off("mousedown",o),g.off("click",u),d.off("mousedown",a),d.off("moveItem",e),t(document).off("mouseup",s)),f.on("mousedown",o),f.on("click",{sortItemQuery:c},i),g.on("mousedown",o),g.on("click",{sortItemQuery:c},u),d.on("mousedown",{wrapper:p,items:d,sortItemQuery:c},a),d.on("moveItem",e),t(document).on("mouseup",{wrapper:p},s),p.prop("sortInitaited",!0)}}t.fn.sortable=function(t){return this.each(function(o,e){p(e,t)})},t(function(){return t('[data-function*="sort"]').sortable()})}(jQuery.noConflict(),duck);
//# sourceMappingURL=sortable.min.js.map
