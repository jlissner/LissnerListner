"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void function(e,n){function t(n,t){var r=t.attr("duck-type");switch(r){case"array":case"checkbox":var i=function(){var n=[];return t.find("[duck-value]").each(function(t,r){var i=e(r).val();i&&n.push(i)}),{v:n}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v;case"select":case"string":return t.find("[duck-value]").val();default:return!1}}function r(e,n,t,r,i){return function(f){f||window.location.reload(!0);for(var o=f.length,u=[],a=0;a<o;a++){var c=f[a],l=c[t]||(r?[]:"");(r?l.indexOf(e)===-1:e!==l)&&(r?l.push(e):l=e,c[t]=l,u.push(c))}if(i)if(r)if(i instanceof Array)for(var d=i.length,s=function(n){var o=f.filter(function(e){return e.Id===i[n]})[0];if(o){if(r){var a=o[t].indexOf(e);o[t].splice(a,1)}else o[t]="";u.push(o)}},v=0;v<d;v++)s(v);else{var p=f.filter(function(e){return e.Id===i})[0];if(p){if(r){var y=p[t].indexOf(e);p[t].splice(y,1)}else p[t]="";u.push(p)}}else if(i instanceof Array)for(var h=i.length,b=function(n){var o=f.filter(function(e){return e.Id===i[n]})[0];if(o){if(r){var a=o[t].indexOf(e);o[t].splice(a,1)}else o[t]="";u.push(o)}},k=0;k<h;k++)b(k);else{var m=f.filter(function(e){return e.Id===i})[0];if(m){if(r){var w=m[t].indexOf(e);m[t].splice(w,1)}else m[t]="";u.push(m)}}u.length?n.update(u,function(){window.location.reload(!0)}):window.location.reload(!0)}}function i(e,i,f,o){var u=e.attr("duck-key-value"),a=e.find("[duck-field='"+i+"']"),c=t(e,a);return function(){var l=t(e,a),d=l instanceof Array?l:l?[l]:[];if(l===c)return e.find('[duck-button="submit"]').prop("disabled",!1),void e.attr("duck-edit-form","view");var s=n(e.attr("duck-table")),v=void 0;if(c instanceof Array){v=[];for(var p=c.length,y=0;y<p;y++){var h=c[y];l.indexOf(h)===-1&&(d.push(h),v.push(h))}}else c&&(v=o?[c]:c,d.push(c));s.get({field:"Id",value:d},r(u,s,f||i,o,v))}}n.callbacks.linkedUpdate=i}(jQuery.noConflict(),duck);
//# sourceMappingURL=linkedUpdate.min.js.map
