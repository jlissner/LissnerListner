"use strict";void function(e){function n(n,i){i.trigger("fileUploading");var t=e("<p/>",{class:"alert alert-danger p-A",text:"Sorry, something went wrong while uploading your file"});e.ajax({url:"/upload",type:"POST",data:n,processData:!1,contentType:!1,success:function(){i.trigger("filesUploaded")},error:function(e){i.trigger("filesUploaded",[!1]),i.find('input[type="file"]').val("").after(t),setTimeout(function(){t.slideUp(500)},3e3),setTimeout(function(){t.detach()},3500),console.error(e)}})}function i(i){var t=e(i.currentTarget).get(0).files;if(t.length>0){for(var r=new FormData,a=0;a<t.length;a++){var o=t[a];r.append("uploads[]",o,o.name)}n(r,i.data.wrapper)}}function t(n){var t=e(n),r=e("<i/>",{class:"fa fa-spinner fa-spin d-Ib mr-Xs hidden","aria-hidden":"true"});t.prepend(r),t.on("fileUploading",function(){r.removeClass("hidden")}),t.on("filesUploaded",function(){r.addClass("hidden")}),t.find('input[type="file"]').on("change",{wrapper:t},i)}e.fn.filePicker=function(){return this.each(function(e,n){t(n)})},e(function(){e('[duck-type="image"]').filePicker()})}(jQuery.noConflict());
//# sourceMappingURL=file-picker.min.js.map
